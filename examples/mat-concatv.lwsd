let f =
  fun (k : Int) -> fun(l : Int) -> fun(m : Int) -> fun(n : Int) ->
    &(fun (matA : Mat %k %l) ->
      fun (matB : Mat %m %n) ->
      fun (matC : Mat %(sub l (mult 2 m)) %n) ->
        ~(gen_mmult k l n)
          matA
          (~(gen_mconcat_vert (sub l m) m n)
            (~(gen_mconcat_vert m (sub l (mult 2 m)) n) matB matC)
            matB)
    )
in
&(
  ~(f 2 5 1 3)
  [#1, 2, 3, 4, 5;
    6, 7, 8, 9, 10#]
  [#11, 12, 13#]
  [#1, 2, 3;
    4, 5, 6;
    7, 8, 9#]
)
